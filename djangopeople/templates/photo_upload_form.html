{% extends "profile.html" %}

{% block title%}{% if page_title %}{{ page_title }}{% else %}Upload a photo{% endif %} |{% endblock %}

{% block js %}{% load thumbnail %}{% endblock %}
{% block map %}{% endblock %}

    {% block content %}
        <div class="form-container-wide">
            <h2>{% if page_title %}{{ page_title }}{% else %}Upload a new photo{% endif %}</h2>
            <form enctype="multipart/form-data" method="post" action=".">


	<fieldset>
	{% if photo %}
	<img src="{% thumbnail photo.photo 100x100 crop %}">
	{% else %}
	<div class="form-field-outer">
		<div class="form-field-left">
                    {{ form.photo.errors }}
                    <label for="id_photo">Photo</label>
		</div>

		<div class="form-field-right">
			{{ form.photo }}
		</div>
	</div>
	{% endif %}

	<div class="form-field-outer">
		<div class="form-field-left">
                    {{ form.description.errors }}
                    <label for="id_description">Description</label>
		</div>

		<div class="form-field-right">
			{{ form.description }}
		</div>
	</div>

	<div class="form-field-outer">
		<div class="form-field-left">
                    {{ form.diary_entry.errors }}
                    <label for="id_diary_entry">Diary Entry</label>
		</div>

		<div class="form-field-right">
			{{ form.diary_entry }}
		</div>
	</div>


	<div class="form-field-outer" id="location">
		<div class="form-field-left">
            		{{ form.location_description.errors }}
            		<label for="id_location_description">Location *</label>
		</div>
		<div class="form-field-right">
			{{ form.location_description }}  <br/><span class="form-hint">(You can customize this if you like - it has been guessed from the map coordinates above.)</span>
		</div>
	</div>

	<div class="form-field-outer" id="country">
		<div class="form-field-left">
            		{{ form.country.errors }}
            		<label for="id_country">Country</label>
		</div>
		<div class="form-field-right">
			{{ form.country }}
		</div>
	</div>

	<div class="form-field-outer" style="display: none;">
		<div class="form-field-left">
            		{{ form.latitude.errors }}
            		<label for="id_latitude">Latitude</label>
		</div>
		<div class="form-field-right">
			{{ form.latitude }}
		</div>
	</div>

	<div class="form-field-outer" style="display: none;">
		<div class="form-field-left">
            		{{ form.longitude.errors }}
            		<label for="id_longitude">Longitude</label>
		</div>
		<div class="form-field-right">
			{{ form.longitude }}
		</div>
	</div>

	<div class="form-field-outer" style="display: none;">
		<div class="form-field-left">
            		{{ form.region.errors }}
            		<label for="id_region">Region</label>
		</div>
		<div class="form-field-right">
			{{ form.region }}
		</div>
	</div>

	<div class="form-field-submit">
    		<div class="buttonContainer">
    		<input type="submit" value="{% if button_value %}{{ button_value }}{% else %}Upload{% endif %}">
    		</div>
	
	</div>
	</fieldset>


            </form>
        </div>

    {% endblock %}
